<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Official website of Emulation12, a YouTube content creator with over 1.1K subscribers, featuring gaming, Shorts, interactive games, community features, recent comments, and advanced settings." />
  <meta name="keywords" content="Emulation12, YouTube, gaming, Shorts, content creator, videos, polls, games, community, comments" />
  <meta name="author" content="Emulation12" />
  <title>Emulation12 - Official YouTube Site</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Emulation12",
      "url": "https://www.youtube.com/@Emulation12",
      "sameAs": ["https://www.youtube.com/@Emulation12"]
    }
  </script>
  <style>
    body {
      scroll-behavior: smooth;
      transition: background-color 0.3s ease, color 0.3s ease;
      font-family: 'Inter', sans-serif;
      overflow-x: hidden;
      position: relative;
    }
    .parallax {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      background: linear-gradient(135deg, #0a0f1a, #1e2a44);
    }
    #particles {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }
    .loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #0a0f1a, #1e2a44);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      transition: opacity 0.5s ease;
    }
    .loading-logo {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      border: 4px solid #00aaff;
      margin-bottom: 20px;
    }
    .loading-bar {
      width: 200px;
      height: 10px;
      background: #1f2937;
      border-radius: 5px;
      overflow: hidden;
    }
    .loading-progress {
      width: 0;
      height: 100%;
      background: #00aaff;
      animation: load 2s ease-in-out forwards;
    }
    @keyframes load {
      0% { width: 0; }
      100% { width: 100%; }
    }
    .spinner {
      border: 4px solid rgba(255, 255, 255, 0.3);
      border-top: 4px solid #00aaff;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      margin: auto;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    .glow-effect {
      transition: all 0.3s ease;
    }
    .glow-effect:hover {
      transform: scale(1.05);
      box-shadow: 0 0 20px #00aaff;
    }
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 1000;
      align-items: center;
      justify-content: center;
    }
    .modal-content {
      background: #1f2937;
      padding: 24px;
      border-radius: 12px;
      max-width: 600px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
    }
    .tab-content {
      display: none;
    }
    .tab-content.active {
      display: block;
    }
    .light-theme {
      background-color: #f3f4f6;
      color: #1f2937;
    }
    .light-theme .parallax {
      background: linear-gradient(135deg, #e5e7eb, #d1d5db);
    }
    .light-theme h1, .light-theme h2 {
      color: #0284c7;
      text-shadow: none;
    }
    .light-theme .glow-effect {
      border-color: #0284c7;
      box-shadow: 0 0 15px #0284c7;
    }
    .light-theme .bg-gray-800 {
      background-color: #e5e7eb !important;
    }
    .light-theme .bg-gray-950 {
      background-color: #374151 !important;
    }
    .light-theme .text-cyan-400 {
      color: #0284c7 !important;
    }
    .light-theme .text-cyan-300 {
      color: #60a5fa !important;
    }
    .light-theme .bg-cyan-400 {
      background-color: #0284c7 !important;
    }
    .large-font {
      font-size: 1.25rem;
    }
    .no-animations * {
      transition: none !important;
      animation: none !important;
    }
    .navbar-collapse {
      display: none;
    }
    .navbar-collapse.active {
      display: flex;
    }
    .gradient-text {
      background: linear-gradient(90deg, #00aaff, #0284c7);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .particle {
      position: absolute;
      border-radius: 50%;
      cursor: pointer;
      transition: transform 0.3s ease, background-color 0.3s ease;
    }
    .particle:hover {
      transform: scale(1.2);
    }
  </style>
</head>
<body class="bg-gray-900 text-white">
  <div class="loading-screen" id="loadingScreen">
    <img id="loadingProfilePicture" class="loading-logo" alt="Emulation12 Loading Logo" />
    <h2 class="text-2xl font-bold gradient-text mb-4">Emulation12</h2>
    <div class="loading-bar">
      <div class="loading-progress"></div>
    </div>
  </div>
  <div class="parallax">
    <canvas id="particles"></canvas>
  </div>
  <nav class="bg-gray-950 py-4 sticky top-0 z-50">
    <div class="max-w-7xl mx-auto px-4 flex justify-between items-center">
      <a href="#home" class="flex items-center text-2xl font-bold gradient-text">
        <img id="navProfilePicture" class="w-8 h-8 rounded-full mr-2 border-2 border-cyan-400" alt="Emulation12 Profile Picture" />
        Emulation12
      </a>
      <button id="navbarToggle" class="md:hidden text-cyan-400" aria-label="Toggle navigation"><i class="fas fa-bars"></i></button>
      <ul class="flex gap-6 navbar-collapse md:flex flex-col md:flex-row items-center" id="navbarMenu">
        <li><a href="#home" class="text-cyan-400 hover:text-cyan-300 flex items-center"><i class="fas fa-home mr-1"></i>Home</a></li>
        <li><a href="#stats" class="text-cyan-400 hover:text-cyan-300 flex items-center"><i class="fas fa-chart-line mr-1"></i>Stats</a></li>
        <li><a href="#videos" class="text-cyan-400 hover:text-cyan-300 flex items-center"><i class="fas fa-video mr-1"></i>Videos</a></li>
        <li><a href="#shorts" class="text-cyan-400 hover:text-cyan-300 flex items-center"><i class="fas fa-film mr-1"></i>Shorts</a></li>
        <li><a href="#games" class="text-cyan-400 hover:text-cyan-300 flex items-center"><i class="fas fa-gamepad mr-1"></i>Games</a></li>
        <li><a href="#community" class="text-cyan-400 hover:text-cyan-300 flex items-center"><i class="fas fa-users mr-1"></i>Community</a></li>
        <li><a href="#comments" class="text-cyan-400 hover:text-cyan-300 flex items-center"><i class="fas fa-comments mr-1"></i>Comments</a></li>
        <li><a href="#about" class="text-cyan-400 hover:text-cyan-300 flex items-center"><i class="fas fa-info-circle mr-1"></i>About</a></li>
        <li><button id="settingsButton" class="text-cyan-400 hover:text-cyan-300 flex items-center" aria-label="Open settings"><i class="fas fa-cog mr-1"></i>Settings</button></li>
      </ul>
    </div>
  </nav>

  <div id="settingsModal" class="modal">
    <div class="modal-content bg-gray-800 text-white">
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-2xl font-bold gradient-text"><i class="fas fa-cog mr-2"></i>Settings</h2>
        <button id="closeModal" class="text-cyan-400 hover:text-cyan-300" aria-label="Close settings"><i class="fas fa-times"></i></button>
      </div>
      <div class="flex gap-4 mb-4">
        <button class="tab-btn bg-cyan-400 text-gray-900 px-4 py-2 rounded-full glow-effect" data-tab="appearance">Appearance</button>
        <button class="tab-btn bg-cyan-400 text-gray-900 px-4 py-2 rounded-full glow-effect" data-tab="accessibility">Accessibility</button>
        <button class="tab-btn bg-cyan-400 text-gray-900 px-4 py-2 rounded-full glow-effect" data-tab="notifications">Notifications</button>
      </div>
      <div id="appearance" class="tab-content">
        <h3 class="text-xl font-bold gradient-text mb-2"><i class="fas fa-paint-brush mr-2"></i>Appearance</h3>
        <label class="block mb-2">
          <span>Theme:</span>
          <select id="themeSelect" class="bg-gray-700 text-white p-2 rounded-lg w-full">
            <option value="dark">Dark</option>
            <option value="light">Light</option>
          </select>
        </label>
        <label class="block mb-2">
          <span>Particle Density:</span>
          <select id="particleDensity" class="bg-gray-700 text-white p-2 rounded-lg w-full">
            <option value="low">Low</option>
            <option value="medium">Medium</option>
            <option value="high">High</option>
          </select>
        </label>
        <label class="block mb-2">
          <span>Color Scheme:</span>
          <select id="colorScheme" class="bg-gray-700 text-white p-2 rounded-lg w-full">
            <option value="cyan">Cyan</option>
            <option value="purple">Purple</option>
            <option value="green">Green</option>
          </select>
        </label>
      </div>
      <div id="accessibility" class="tab-content">
        <h3 class="text-xl font-bold gradient-text mb-2"><i class="fas fa-universal-access mr-2"></i>Accessibility</h3>
        <label class="block mb-2">
          <span>Font Size:</span>
          <select id="fontSizeSelect" class="bg-gray-700 text-white p-2 rounded-lg w-full">
            <option value="normal">Normal</option>
            <option value="large">Large</option>
          </select>
        </label>
        <label class="block mb-2">
          <input type="checkbox" id="reduceAnimations" class="mr-2"> Reduce Animations
        </label>
        <label class="block mb-2">
          <input type="checkbox" id="highContrast" class="mr-2"> High Contrast Mode
        </label>
      </div>
      <div id="notifications" class="tab-content">
        <h3 class="text-xl font-bold gradient-text mb-2"><i class="fas fa-bell mr-2"></i>Notifications</h3>
        <label class="block mb-2">
          <input type="checkbox" id="newVideoAlerts" class="mr-2"> New Video Alerts (Mock)
        </label>
        <label class="block mb-2">
          <input type="checkbox" id="communityUpdates" class="mr-2"> Community Updates (Mock)
        </label>
      </div>
    </div>
  </div>

  <main class="py-12 relative z-10">
    <section id="home" class="py-12 text-center">
      <img id="profilePicture" class="w-24 h-24 rounded-full mx-auto mb-4 border-4 border-cyan-400 glow-effect" alt="Emulation12 Profile Picture" />
      <h1 class="text-4xl md:text-5xl font-bold gradient-text"><i class="fas fa-star mr-2"></i>Welcome to Emulation12's Official Site!</h1>
      <div class="max-w-3xl mx-auto mt-4 bg-gray-800 bg-opacity-50 border border-cyan-400 rounded-lg p-6 glow-effect">
        <p class="text-lg">Explore my latest videos, Shorts, games, community features, recent comments, and customize your experience with advanced settings!</p>
        <a href="https://www.youtube.com/@Emulation12" target="_blank" class="inline-block mt-4 bg-cyan-400 text-gray-900 px-6 py-3 rounded-full font-semibold glow-effect"><i class="fab fa-youtube mr-2"></i>Visit My YouTube</a>
      </div>
    </section>

    <section id="stats" class="py-12 text-center">
      <h2 class="text-3xl font-bold gradient-text mb-6"><i class="fas fa-chart-line mr-2"></i>Channel Stats</h2>
      <div class="max-w-3xl mx-auto bg-gray-800 bg-opacity-50 border border-cyan-400 rounded-lg p-6 glow-effect grid grid-cols-1 sm:grid-cols-2 gap-4" aria-live="polite">
        <p><i class="fas fa-users mr-2"></i><strong>Subscribers:</strong> <span id="subCount" class="text-cyan-300">Loading...</span></p>
        <p><i class="fas fa-eye mr-2"></i><strong>Total Views:</strong> <span id="viewCount" class="text-cyan-300">Loading...</span></p>
        <p><i class="fas fa-video mr-2"></i><strong>Total Videos:</strong> <span id="videoCount" class="text-cyan-300">Loading...</span></p>
        <p><i class="fas fa-clock mr-2"></i><strong>Avg. View Duration:</strong> <span id="avgViewDuration" class="text-cyan-300">Loading...</span></p>
        <p><i class="fas fa-comments mr-2"></i><strong>Total Comments:</strong> <span id="totalComments" class="text-cyan-300">Loading...</span></p>
        <p><i class="fas fa-chart-bar mr-2"></i><strong>Subscriber Growth:</strong> <span id="subGrowth" class="text-cyan-300">Loading...</span></p>
      </div>
    </section>

    <section id="videos" class="py-12 text-center">
      <h2 class="text-3xl font-bold gradient-text mb-6"><i class="fas fa-video mr-2"></i>Latest Videos</h2>
      <div id="latestVideos" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto px-4">
        <div class="spinner"></div>
      </div>
    </section>

    <section id="shorts" class="py-12 text-center">
      <h2 class="text-3xl font-bold gradient-text mb-6"><i class="fas fa-film mr-2"></i>Latest Shorts</h2>
      <div id="latestShorts" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto px-4">
        <div class="spinner"></div>
      </div>
    </section>

    <section id="games" class="py-12 text-center">
      <h2 class="text-3xl font-bold gradient-text mb-6"><i class="fas fa-gamepad mr-2"></i>Play Games!</h2>
      <div class="max-w-3xl mx-auto bg-gray-800 bg-opacity-50 border border-cyan-400 rounded-lg p-6 glow-effect">
        <h3 class="text-xl font-bold gradient-text mb-4"><i class="fas fa-mouse-pointer mr-2"></i>Clicker Game</h3>
        <p class="text-lg mb-4">Click the button to score points!</p>
        <button id="clickerButton" class="bg-cyan-400 text-gray-900 px-6 py-3 rounded-full font-semibold glow-effect"><i class="fas fa-hand-pointer mr-2"></i>Click Me!</button>
        <p class="mt-4"><i class="fas fa-trophy mr-2"></i><strong>Score:</strong> <span id="clickerScore">0</span></p>
      </div>
      <div class="max-w-3xl mx-auto bg-gray-800 bg-opacity-50 border border-cyan-400 rounded-lg p-6 glow-effect mt-6">
        <h3 class="text-xl font-bold gradient-text mb-4"><i class="fas fa-puzzle-piece mr-2"></i>Memory Match Game</h3>
        <p class="text-lg mb-4">Match the pairs!</p>
        <div id="memoryGame" class="grid grid-cols-4 gap-2 max-w-md mx-auto"></div>
        <p class="mt-4"><i class="fas fa-trophy mr-2"></i><strong>Matches Found:</strong> <span id="memoryScore">0</span></p>
      </div>
    </section>

    <section id="community" class="py-12 text-center">
      <h2 class="text-3xl font-bold gradient-text mb-6"><i class="fas fa-poll mr-2"></i>Vote on Your Favorite Content</h2>
      <div class="max-w-3xl mx-auto bg-gray-800 bg-opacity-50 border border-cyan-400 rounded-lg p-6 glow-effect">
        <p class="text-lg mb-4">What type of videos do you want to see more of?</p>
        <div class="flex flex-col items-center gap-4">
          <button class="vote-btn bg-cyan-400 text-gray-900 px-4 py-2 rounded-full glow-effect" data-vote="Gaming"><i class="fas fa-gamepad mr-2"></i>Gaming</button>
          <button class="vote-btn bg-cyan-400 text-gray-900 px-4 py-2 rounded-full glow-effect" data-vote="Edits"><i class="fas fa-edit mr-2"></i>Edits</button>
          <button class="vote-btn bg-cyan-400 text-gray-900 px-4 py-2 rounded-full glow-effect" data-vote="Shorts"><i class="fas fa-film mr-2"></i>Shorts</button>
          <button class="vote-btn bg-cyan-400 text-gray-900 px-4 py-2 rounded-full glow-effect" data-vote="Other"><i class="fas fa-ellipsis-h mr-2"></i>Other</button>
        </div>
        <p class="mt-4"><i class="fas fa-chart-pie mr-2"></i><strong>Current Votes:</strong> <span id="voteResults">No votes yet</span></p>
      </div>
      <div class="max-w-3xl mx-auto bg-gray-800 bg-opacity-50 border border-cyan-400 rounded-lg p-6 glow-effect mt-6">
        <h3 class="text-xl font-bold gradient-text mb-4"><i class="fas fa-comments mr-2"></i>Community Board</h3>
        <p class="text-lg mb-4">Leave a comment (mock, stored locally)!</p>
        <div class="flex justify-center gap-4">
          <input type="text" id="commentInput" placeholder="Your comment" class="px-4 py-2 rounded-lg bg-gray-700 text-white border border-cyan-400 focus:outline-none" aria-label="Comment input" />
          <button id="submitComment" class="bg-cyan-400 text-gray-900 px-6 py-2 rounded-full font-semibold glow-effect"><i class="fas fa-paper-plane mr-2"></i>Post</button>
        </div>
        <div id="commentList" class="mt-4 text-left"></div>
      </div>
    </section>

    <section id="comments" class="py-12 text-center">
      <h2 class="text-3xl font-bold gradient-text mb-6"><i class="fas fa-comments mr-2"></i>Recent Video Comments</h2>
      <div id="recentComments" class="max-w-3xl mx-auto bg-gray-800 bg-opacity-50 border border-cyan-400 rounded-lg p-6 glow-effect">
        <div class="spinner"></div>
      </div>
    </section>

    <section id="newsletter" class="py-12 text-center">
      <h2 class="text-3xl font-bold gradient-text mb-6"><i class="fas fa-envelope mr-2"></i>Join the Newsletter</h2>
      <div class="max-w-3xl mx-auto bg-gray-800 bg-opacity-50 border border-cyan-400 rounded-lg p-6 glow-effect">
        <p class="text-lg mb-4">Stay updated with the latest content and news!</p>
        <div class="flex justify-center gap-4">
          <input type="email" placeholder="Enter your email" class="px-4 py-2 rounded-lg bg-gray-700 text-white border border-cyan-400 focus:outline-none" aria-label="Email for newsletter" />
          <button class="bg-cyan-400 text-gray-900 px-6 py-2 rounded-full font-semibold glow-effect"><i class="fas fa-sign-in-alt mr-2"></i>Sign Up</button>
        </div>
        <p class="text-sm mt-2 text-gray-400">*This is a mock form for demonstration.</p>
      </div>
    </section>

    <section id="about" class="py-12 text-center">
      <h2 class="text-3xl font-bold gradient-text mb-6"><i class="fas fa-user mr-2"></i>About Me</h2>
      <div class="max-w-3xl mx-auto bg-gray-800 bg-opacity-50 border border-cyan-400 rounded-lg p-6 glow-effect">
        <p class="text-lg mb-4">Hey, I'm <strong>Emulation12</strong> — a passionate content creator with over 1.1K subscribers, dedicated to bringing fun, creative, and engaging YouTube videos to my amazing community! My journey started with a love for gaming, where I explored modding and creating unique experiences that pushed the boundaries of what games could offer. From there, I dove into video editing, crafting cinematic edits and quick, punchy Shorts that capture the thrill of gaming and beyond.</p>
        <p class="text-lg mb-4">Beyond gaming, I'm a huge music enthusiast, often jamming on Multiplayer Piano and experimenting with sound design to add flair to my content. My goal is to not only entertain but also inspire my viewers to explore their own creativity, whether through gaming, music, or storytelling. I'm constantly learning and experimenting, whether it's coding this website from scratch or brainstorming new video ideas. With 2K subscribers on the horizon, I'm excited to keep growing, connecting with my community, and delivering content that sparks joy and excitement. Thanks for being part of this journey! 🔥</p>
      </div>
    </section>

    <section id="funfacts" class="py-12 text-center">
      <h2 class="text-3xl font-bold gradient-text mb-6"><i class="fas fa-star mr-2"></i>Fun Facts</h2>
      <div class="max-w-3xl mx-auto bg-gray-800 bg-opacity-50 border border-cyan-400 rounded-lg p-6 glow-effect">
        <ul class="list-none text-lg">
          <li><i class="fas fa-gamepad mr-2"></i>Loves modding games</li>
          <li><i class="fas fa-music mr-2"></i>Plays Multiplayer Piano</li>
          <li><i class="fas fa-code mr-2"></i>Built this website from scratch</li>
          <li><i class="fas fa-trophy mr-2"></i>Hitting 2K subs soon!</li>
        </ul>
      </div>
    </section>

    <section id="connect" class="py-12 text-center">
      <h2 class="text-3xl font-bold gradient-text mb-6"><i class="fas fa-link mr-2"></i>Stay Connected</h2>
      <div class="flex justify-center gap-4 flex-wrap">
        <a href="https://www.youtube.com/@Emulation12" target="_blank" class="bg-cyan-400 text-gray-900 px-6 py-3 rounded-full font-semibold glow-effect"><i class="fab fa-youtube mr-2"></i>YouTube</a>
      </div>
    </section>
  </main>

  <footer class="bg-gray-950 py-12 text-center relative z-10">
    <p class="text-sm"><i class="fas fa-copyright mr-2"></i>© 2025 Emulation12. All rights reserved.</p>
  </footer>

  <script>
    const API_KEY = 'AIzaSyCVTKY8e4Y5nJ2AmVRbOcQlRC-nN5x-_n4';
    const CHANNEL_ID = 'UC1zRI8HETKZ-sREcFhsCoFA';

    // Loading Screen
    window.addEventListener('load', () => {
      setTimeout(() => {
        const loadingScreen = document.getElementById('loadingScreen');
        loadingScreen.style.opacity = '0';
        setTimeout(() => {
          loadingScreen.style.display = 'none';
        }, 500);
      }, 2000);
    });

    // Interactive Parallax Background (Infinite Craft Style)
    let particles = [];
    function setup() {
      let canvas = createCanvas(windowWidth, windowHeight);
      canvas.parent('particles');
      canvas.mouseClicked(mergeParticles);
      const density = document.getElementById('particleDensity')?.value || 'medium';
      const counts = { low: 30, medium: 60, high: 100 };
      const particleCount = counts[density];
      particles = [];
      // Layer 1: Slow-moving, large particles (background)
      for (let i = 0; i < particleCount * 0.4; i++) {
        particles.push({
          x: random(width),
          y: random(height),
          vx: random(-0.5, 0.5),
          vy: random(-0.5, 0.5),
          size: random(10, 15),
          color: [100, 150, 255, 100], // Soft blue
          layer: 1
        });
      }
      // Layer 2: Medium-speed, medium particles
      for (let i = 0; i < particleCount * 0.4; i++) {
        particles.push({
          x: random(width),
          y: random(height),
          vx: random(-1, 1),
          vy: random(-1, 1),
          size: random(5, 10),
          color: [200, 100, 255, 150], // Purple
          layer: 2
        });
      }
      // Layer 3: Fast-moving, small particles (foreground)
      for (let i = 0; i < particleCount * 0.2; i++) {
        particles.push({
          x: random(width),
          y: random(height),
          vx: random(-2, 2),
          vy: random(-2, 2),
          size: random(2, 5),
          color: [255, 255, 255, 200], // White
          layer: 3
        });
      }
    }
    function draw() {
      clear();
      particles.forEach(p => {
        p.x += p.vx * (p.layer / 2);
        p.y += p.vy * (p.layer / 2);
        if (p.x < 0 || p.x > width) p.vx *= -1;
        if (p.y < 0 || p.y > height) p.vy *= -1;
        fill(...p.color);
        noStroke();
        circle(p.x, p.y, p.size);
      });
    }
    function mergeParticles() {
      let clicked = particles.filter(p => dist(mouseX, mouseY, p.x, p.y) < p.size * 2);
      if (clicked.length >= 2) {
        let newParticle = {
          x: (clicked[0].x + clicked[1].x) / 2,
          y: (clicked[0].y + clicked[1].y) / 2,
          vx: (clicked[0].vx + clicked[1].vx) / 2,
          vy: (clicked[0].vy + clicked[1].vy) / 2,
          size: Math.max(clicked[0].size, clicked[1].size) * 1.5,
          color: [255, 255, 0, 255], // Yellow glow for fusion
          layer: Math.max(clicked[0].layer, clicked[1].layer)
        };
        particles = particles.filter(p => !clicked.includes(p));
        particles.push(newParticle);
        setTimeout(() => {
          newParticle.color = [
            random([100, 200, 255]),
            random([100, 150, 255]),
            random([100, 255]),
            random(100, 200)
          ];
          newParticle.size = random(5, 15);
        }, 1000);
      }
    }

    // Navbar Scroll and Toggle
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', (e) => {
        e.preventDefault();
        document.querySelector(anchor.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
        if (window.innerWidth < 768) {
          document.getElementById('navbarMenu').classList.remove('active');
        }
      });
    });
    document.getElementById('navbarToggle').addEventListener('click', () => {
      document.getElementById('navbarMenu').classList.toggle('active');
    });

    // Settings Modal
    const settingsButton = document.getElementById('settingsButton');
    const settingsModal = document.getElementById('settingsModal');
    const closeModal = document.getElementById('closeModal');
    const tabButtons = document.querySelectorAll('.tab-btn');
    const tabContents = document.querySelectorAll('.tab-content');

    settingsButton.addEventListener('click', () => {
      settingsModal.style.display = 'flex';
      tabButtons[0].click();
    });
    closeModal.addEventListener('click', () => {
      settingsModal.style.display = 'none';
    });
    tabButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        tabButtons.forEach(b => b.classList.remove('bg-cyan-500'));
        btn.classList.add('bg-cyan-500');
        tabContents.forEach(c => c.classList.remove('active'));
        document.getElementById(btn.dataset.tab).classList.add('active');
      });
    });

    // Settings Persistence
    const themeSelect = document.getElementById('themeSelect');
    const particleDensity = document.getElementById('particleDensity');
    const fontSizeSelect = document.getElementById('fontSizeSelect');
    const reduceAnimations = document.getElementById('reduceAnimations');
    const highContrast = document.getElementById('highContrast');
    const colorScheme = document.getElementById('colorScheme');

    function applySettings() {
      document.body.classList.toggle('light-theme', themeSelect.value === 'light');
      document.body.classList.toggle('large-font', fontSizeSelect.value === 'large');
      document.body.classList.toggle('no-animations', reduceAnimations.checked);
      document.body.classList.toggle('high-contrast', highContrast.checked);
      if (colorScheme.value === 'purple') {
        document.body.style.setProperty('--tw-text-opacity', '1');
        document.body.style.setProperty('--tw-bg-opacity', '1');
        document.querySelectorAll('.bg-cyan-400').forEach(el => el.classList.replace('bg-cyan-400', 'bg-purple-400'));
        document.querySelectorAll('.text-cyan-400').forEach(el => el.classList.replace('text-cyan-400', 'text-purple-400'));
        document.querySelectorAll('.text-cyan-300').forEach(el => el.classList.replace('text-cyan-300', 'text-purple-300'));
        document.querySelectorAll('.border-cyan-400').forEach(el => el.classList.replace('border-cyan-400', 'border-purple-400'));
      } else if (colorScheme.value === 'green') {
        document.body.style.setProperty('--tw-text-opacity', '1');
        document.body.style.setProperty('--tw-bg-opacity', '1');
        document.querySelectorAll('.bg-cyan-400').forEach(el => el.classList.replace('bg-cyan-400', 'bg-green-400'));
        document.querySelectorAll('.text-cyan-400').forEach(el => el.classList.replace('text-cyan-400', 'text-green-400'));
        document.querySelectorAll('.text-cyan-300').forEach(el => el.classList.replace('text-cyan-300', 'text-green-300'));
        document.querySelectorAll('.border-cyan-400').forEach(el => el.classList.replace('border-cyan-400', 'border-green-400'));
      } else {
        document.body.style.setProperty('--tw-text-opacity', '1');
        document.body.style.setProperty('--tw-bg-opacity', '1');
        document.querySelectorAll('.bg-purple-400').forEach(el => el.classList.replace('bg-purple-400', 'bg-cyan-400'));
        document.querySelectorAll('.text-purple-400').forEach(el => el.classList.replace('text-purple-400', 'text-cyan-400'));
        document.querySelectorAll('.text-purple-300').forEach(el => el.classList.replace('text-purple-300', 'text-cyan-300'));
        document.querySelectorAll('.border-purple-400').forEach(el => el.classList.replace('border-purple-400', 'border-cyan-400'));
        document.querySelectorAll('.bg-green-400').forEach(el => el.classList.replace('bg-green-400', 'bg-cyan-400'));
        document.querySelectorAll('.text-green-400').forEach(el => el.classList.replace('text-green-400', 'text-cyan-400'));
        document.querySelectorAll('.text-green-300').forEach(el => el.classList.replace('text-green-300', 'text-cyan-300'));
        document.querySelectorAll('.border-green-400').forEach(el => el.classList.replace('border-green-400', 'border-cyan-400'));
      }
      if (particleDensity.value !== localStorage.getItem('particleDensity')) {
        localStorage.setItem('particleDensity', particleDensity.value);
        setup();
      }
    }

    themeSelect.addEventListener('change', () => {
      localStorage.setItem('theme', themeSelect.value);
      applySettings();
    });
    particleDensity.addEventListener('change', () => {
      localStorage.setItem('particleDensity', particleDensity.value);
      applySettings();
    });
    fontSizeSelect.addEventListener('change', () => {
      localStorage.setItem('fontSize', fontSizeSelect.value);
      applySettings();
    });
    reduceAnimations.addEventListener('change', () => {
      localStorage.setItem('reduceAnimations', reduceAnimations.checked);
      applySettings();
    });
    highContrast.addEventListener('change', () => {
      localStorage.setItem('highContrast', highContrast.checked);
      applySettings();
    });
    colorScheme.addEventListener('change', () => {
      localStorage.setItem('colorScheme', colorScheme.value);
      applySettings();
    });

    if (localStorage.getItem('theme')) themeSelect.value = localStorage.getItem('theme');
    if (localStorage.getItem('particleDensity')) particleDensity.value = localStorage.getItem('particleDensity');
    if (localStorage.getItem('fontSize')) fontSizeSelect.value = localStorage.getItem('fontSize');
    reduceAnimations.checked = localStorage.getItem('reduceAnimations') === 'true';
    highContrast.checked = localStorage.getItem('highContrast') === 'true';
    colorScheme.value = localStorage.getItem('colorScheme') || 'cyan';
    applySettings();

    // Clicker Game
    let score = parseInt(localStorage.getItem('clickerScore')) || 0;
    document.getElementById('clickerButton').addEventListener('click', () => {
      score++;
      document.getElementById('clickerScore').textContent = score;
      localStorage.setItem('clickerScore', score);
    });
    document.getElementById('clickerScore').textContent = score;

    // Memory Game
    const memoryGame = document.getElementById('memoryGame');
    let memoryScore = parseInt(localStorage.getItem('memoryScore')) || 0;
    const emojis = ['🎮', '🎮', '🎵', '🎵', '⚡', '⚡', '🌟', '🌟'];
    let flippedCards = [];
    let matchedCards = [];

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function setupMemoryGame() {
      memoryGame.innerHTML = '';
      const shuffled = shuffle([...emojis]);
      shuffled.forEach((emoji, index) => {
        const card = document.createElement('div');
        card.className = 'bg-gray-700 p-4 rounded-lg cursor-pointer text-2xl';
        card.dataset.value = emoji;
        card.dataset.index = index;
        card.addEventListener('click', flipCard);
        memoryGame.appendChild(card);
      });
      document.getElementById('memoryScore').textContent = memoryScore;
    }

    function flipCard(e) {
      const card = e.target;
      if (flippedCards.length < 2 && !flippedCards.includes(card) && !matchedCards.includes(card.dataset.index)) {
        card.textContent = card.dataset.value;
        flippedCards.push(card);
        if (flippedCards.length === 2) {
          setTimeout(checkMatch, 1000);
        }
      }
    }

    function checkMatch() {
      const [card1, card2] = flippedCards;
      if (card1.dataset.value === card2.dataset.value) {
        matchedCards.push(card1.dataset.index, card2.dataset.index);
        memoryScore++;
        document.getElementById('memoryScore').textContent = memoryScore;
        localStorage.setItem('memoryScore', memoryScore);
      } else {
        card1.textContent = '';
        card2.textContent = '';
      }
      flippedCards = [];
      if (matchedCards.length === emojis.length) {
        setTimeout(() => {
          alert('You won the memory game!');
          matchedCards = [];
          memoryScore = 0;
          localStorage.setItem('memoryScore', memoryScore);
          setupMemoryGame();
        }, 500);
      }
    }

    setupMemoryGame();

    // Voting System
    const voteButtons = document.querySelectorAll('.vote-btn');
    let votes = JSON.parse(localStorage.getItem('votes')) || { Gaming: 0, Edits: 0, Shorts: 0, Other: 0 };
    function updateVoteResults() {
      document.getElementById('voteResults').textContent = Object.entries(votes).map(([key, value]) => `${key}: ${value}`).join(', ');
    }
    voteButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        votes[btn.dataset.vote]++;
        localStorage.setItem('votes', JSON.stringify(votes));
        updateVoteResults();
      });
    });
    updateVoteResults();

    // Community Board
    const commentInput = document.getElementById('commentInput');
    const submitComment = document.getElementById('submitComment');
    const commentList = document.getElementById('commentList');
    let comments = JSON.parse(localStorage.getItem('comments')) || [];

    function renderComments() {
      commentList.innerHTML = comments.map(c => `<p class="text-lg border-b border-gray-700 py-2"><i class="fas fa-comment mr-2"></i>${c}</p>`).join('');
    }

    submitComment.addEventListener('click', () => {
      const comment = commentInput.value.trim();
      if (comment) {
        comments.push(comment);
        localStorage.setItem('comments', JSON.stringify(comments));
        commentInput.value = '';
        renderComments();
      }
    });

    renderComments();

    // YouTube API Functions
    async function getProfilePicture() {
      try {
        const res = await fetch(`https://www.googleapis.com/youtube/v3/channels?part=snippet&id=${CHANNEL_ID}&key=${API_KEY}`);
        if (!res.ok) throw new Error('Failed to fetch profile picture');
        const data = await res.json();
        if (!data.items?.[0]?.snippet?.thumbnails) throw new Error('No profile picture available');
        const profilePicture = data.items[0].snippet.thumbnails.high.url;
        document.getElementById('profilePicture').src = profilePicture;
        document.getElementById('navProfilePicture').src = profilePicture;
        document.getElementById('loadingProfilePicture').src = profilePicture;
      } catch (error) {
        console.error('Error fetching profile picture:', error);
        document.getElementById('profilePicture').src = 'https://via.placeholder.com/96';
        document.getElementById('navProfilePicture').src = 'https://via.placeholder.com/32';
        document.getElementById('loadingProfilePicture').src = 'https://via.placeholder.com/100';
      }
    }

    async function getStats() {
      try {
        const res = await fetch(`https://www.googleapis.com/youtube/v3/channels?part=statistics&id=${CHANNEL_ID}&key=${API_KEY}`);
        if (!res.ok) throw new Error('Failed to fetch stats');
        const data = await res.json();
        if (!data.items?.[0]?.statistics) throw new Error('No stats available');
        const stats = data.items[0].statistics;
        document.getElementById('subCount').textContent = parseInt(stats.subscriberCount).toLocaleString();
        document.getElementById('viewCount').textContent = parseInt(stats.viewCount).toLocaleString();
        document.getElementById('videoCount').textContent = parseInt(stats.videoCount).toLocaleString();
        // Mocked advanced stats (Analytics API not used)
        document.getElementById('avgViewDuration').textContent = '2m 45s';
        document.getElementById('totalComments').textContent = '1,234';
        document.getElementById('subGrowth').textContent = '+5% monthly';
      } catch (error) {
        console.error('Error fetching stats:', error);
        document.getElementById('subCount').textContent = 'N/A';
        document.getElementById('viewCount').textContent = 'N/A';
        document.getElementById('videoCount').textContent = 'N/A';
        document.getElementById('avgViewDuration').textContent = 'N/A';
        document.getElementById('totalComments').textContent = 'N/A';
        document.getElementById('subGrowth').textContent = 'N/A';
      }
    }

    async function loadVideos(containerId, isShorts = false) {
      const container = document.getElementById(containerId);
      try {
        const searchRes = await fetch(`https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${CHANNEL_ID}&part=snippet,id&order=date&maxResults=20`);
        if (!searchRes.ok) throw new Error('Failed to fetch videos');
        const searchData = await searchRes.json();
        const videoIds = searchData.items
          .filter(item => item.id.kind === 'youtube#video')
          .map(item => item.id.videoId)
          .join(',');

        if (!videoIds) {
          container.innerHTML = '<p class="text-gray-400"><i class="fas fa-exclamation-circle mr-2"></i>No videos found.</p>';
          return;
        }

        const detailsRes = await fetch(`https://www.googleapis.com/youtube/v3/videos?key=${API_KEY}&id=${videoIds}&part=contentDetails,snippet`);
        if (!detailsRes.ok) throw new Error('Failed to fetch video details');
        const detailsData = await detailsRes.json();

        const filtered = detailsData.items
          .filter(item => {
            const duration = item.contentDetails.duration;
            const isShortDuration = parseDuration(duration) <= 60;
            const thumbnail = item.snippet.thumbnails.high;
            const isVertical = thumbnail.height > thumbnail.width;
            return isShorts ? (isShortDuration || isVertical) : !(isShortDuration || isVertical);
          })
          .slice(0, 6);

        if (filtered.length === 0) {
          container.innerHTML = '<p class="text-gray-400"><i class="fas fa-exclamation-circle mr-2"></i>No videos found.</p>';
          return;
        }

        container.innerHTML = '';
        filtered.forEach(item => {
          const videoId = item.id;
          const div = document.createElement('div');
          div.className = 'aspect-w-16 aspect-h-9';
          const iframe = document.createElement('iframe');
          iframe.src = `https://www.youtube.com/embed/${videoId}`;
          iframe.title = item.snippet.title;
          iframe.className = 'rounded-lg';
          iframe.loading = 'lazy';
          iframe.setAttribute('allow', 'accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture');
          iframe.setAttribute('allowfullscreen', '');
          div.appendChild(iframe);
          container.appendChild(div);
        });
      } catch (error) {
        console.error('Error fetching videos:', error);
        container.innerHTML = '<p class="text-gray-400"><i class="fas fa-exclamation-circle mr-2"></i>Failed to load videos. Please try again later.</p>';
      }
    }

    function parseDuration(duration) {
      const match = duration.match(/PT(\d+H)?(\d+M)?(\d+S)?/);
      const hours = parseInt(match[1]) || 0;
      const minutes = parseInt(match[2]) || 0;
      const seconds = parseInt(match[3]) || 0;
      return hours * 3600 + minutes * 60 + seconds;
    }

    async function loadRecentComments() {
      const container = document.getElementById('recentComments');
      try {
        const searchRes = await fetch(`https://www.googleapis.com/youtube/v3/search?key=${API_KEY}&channelId=${CHANNEL_ID}&part=snippet,id&order=date&maxResults=5&type=video`);
        if (!searchRes.ok) throw new Error('Failed to fetch videos');
        const searchData = await searchRes.json();
        const videoIds = searchData.items
          .filter(item => item.id.kind === 'youtube#video')
          .map(item => item.id.videoId);

        if (!videoIds.length) {
          container.innerHTML = '<p class="text-gray-400"><i class="fas fa-exclamation-circle mr-2"></i>No comments found.</p>';
          return;
        }

        container.innerHTML = '';
        for (const videoId of videoIds) {
          const commentsRes = await fetch(`https://www.googleapis.com/youtube/v3/commentThreads?key=${API_KEY}&videoId=${videoId}&part=snippet&maxResults=2`);
          if (!commentsRes.ok) continue;
          const commentsData = await commentsRes.json();
          commentsData.items.forEach(item => {
            const comment = item.snippet.topLevelComment.snippet;
            const div = document.createElement('div');
            div.className = 'text-left border-b border-gray-700 py-2';
            div.innerHTML = `
              <p><i class="fas fa-user mr-2"></i><strong>${comment.authorDisplayName}</strong> on <a href="https://www.youtube.com/watch?v=${videoId}" target="_blank" class="text-cyan-400 hover:text-cyan-300">${comment.videoId}</a></p>
              <p class="ml-6"><i class="fas fa-comment mr-2"></i>${comment.textDisplay}</p>
            `;
            container.appendChild(div);
          });
        }
        if (!container.innerHTML) {
          container.innerHTML = '<p class="text-gray-400"><i class="fas fa-exclamation-circle mr-2"></i>No comments found.</p>';
        }
      } catch (error) {
        console.error('Error fetching comments:', error);
        container.innerHTML = '<p class="text-gray-400"><i class="fas fa-exclamation-circle mr-2"></i>Failed to load comments. Please try again later.</p>';
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      getProfilePicture();
      getStats();
      loadVideos('latestVideos', false);
      loadVideos('latestShorts', true);
      loadRecentComments();
    });
  </script>
</body>
</html>
